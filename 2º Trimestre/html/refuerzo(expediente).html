<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Calificaciones</title>
    <link rel="stylesheet" href="../css/expediente.css">
</head>
<body>
    <div class="container">
        <h1>Calificaciones CFGS A.S.I.R</h1>
        <form action="#" method="post" id="formulario">
            <fieldset>
                <label for="modulo1">Lenguaje de marcas: </label>
                <input type="text" id="modulo1" name="modulo1" placeholder="Calificación de LM"><br><br>

                <label for="modulo2">Instalación de sistemas operativos: </label>
                <input type="text" id="modulo2" name="modulo2" placeholder="Calificación de ISO"><br><br>

                <label for="modulo3">Base de datos: </label>
                <input type="text" id="modulo3" name="modulo3" placeholder="Calificación de BD"><br><br>

                <label for="modulo4">Administración de redes: </label>
                <input type="text" id="modulo4" name="modulo4" placeholder="Calificación de Redes"><br><br>

                <label for="modulo5">Sostenibilidad: </label>
                <input type="text" id="modulo5" name="modulo5" placeholder="Calificación de Sostenibilidad"><br><br>

                <label for="modulo6">Digitalización: </label>
                <input type="text" id="modulo6" name="modulo6" placeholder="Calificación de digitalización"><br><br>
                <p id="media"></p>
                <p id="suspensos_aprobados"></p>
            </fieldset>
            <button onclick="hacermedia()" type="submit">Calcular media</button>
        </form>
        <script>
            function hacermedia(){
                event.preventDefault();
                let modulos = []; 
                let aprobados = [];
                let suspensos = [];
                for(let i = 1; i<=6; i++){
                    let valorCaja1 = document.getElementById('modulo' + i).value;
                    if(valorCaja1 === ""){
                    alert('Por favor, ingresa un número.'); 
                    return; 
                    }
                    let valorCaja2 = valorCaja1.replace(',', '.');
                    if(isNaN(valorCaja2)){
                        alert('No es un valor numérico.');
                        return;
                    }
                    if(valorCaja2<1 || valorCaja2>10){
                        alert('Inserta un valor del 1 al 10');
                    }
                    else{
                        let valorCaja3 = parseFloat(valorCaja2);
                        if(valorCaja3>=5){
                            aprobados.push(valorCaja3)
                        }else{
                            suspensos.push(valorCaja3)
                        }
                        modulos.push(valorCaja3);
                    }                   
                }
                let suma = (modulos[0]+modulos[1]+modulos[2]+modulos[3]+modulos[4]+modulos[5])/modulos.length;
                document.getElementById("media").innerHTML = 'Tu media aritmética es ' + suma;
                document.getElementById("suspensos_aprobados").innerHTML = 'Has aprobado ' + aprobados.length + ' asignaturas y has suspendido ' + suspensos.length;
            };
        </script>
    </div>
</body>
</html>
